<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>NandiAI ü§ñ</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  background:#0f172a;
  color:#e5e7eb;
  font-family:Poppins,sans-serif;
}
.app{
  max-width:420px;
  margin:auto;
  height:100vh;
  display:flex;
  flex-direction:column;
}
.header{
  padding:14px;
  display:flex;
  align-items:center;
  gap:10px;
  border-bottom:1px solid #1e293b;
}
.header img{
  width:36px;
  height:36px;
  border-radius:50%;
}
.status{
  font-size:12px;
  color:#38bdf8;
}
.chat{
  flex:1;
  padding:14px;
  overflow-y:auto;
}
.msg{
  max-width:80%;
  padding:12px 14px;
  border-radius:18px;
  margin-bottom:10px;
}
.bot{
  background:#1e293b;
}
.user{
  background:#2563eb;
  margin-left:auto;
}
.input-box{
  display:flex;
  padding:12px;
  gap:10px;
  border-top:1px solid #1e293b;
}
input{
  flex:1;
  padding:12px;
  border-radius:20px;
  border:none;
  outline:none;
}
button{
  width:44px;
  border:none;
  border-radius:50%;
  background:#38bdf8;
  font-size:18px;
}
</style>
</head>

<body>
<div class="app">
  <div class="header">
    <img src="https://nandi.onrender.com/logo.png" onerror="this.style.display='none'">
    <div>
      <b>NandiAI ü§ñ</b>
      <div class="status">‚óè Online</div>
    </div>
  </div>

  <div class="chat" id="chat">
    <div class="msg bot">üëã Hi! I'm NandiAI. How can I help you today?</div>
  </div>

  <div class="input-box">
    <input id="input" placeholder="Ask NandiAI anything‚Ä¶"/>
    <button onclick="send()">‚û§</button>
  </div>
</div>

<script>
async function send(){
  const input = document.getElementById("input");
  const text = input.value.trim();
  if(!text) return;

  add(text,"user");
  input.value="";

  try{
    const res = await fetch("/chat",{
      method:"POST",
      headers:{"Content-Type":"application/json"},
      body:JSON.stringify({message:text})
    });
    const data = await res.json();
    add(data.reply || "‚ö†Ô∏è Error","bot");
  }catch{
    add("‚ùå Server error","bot");
  }
}

function add(text,type){
  const div=document.createElement("div");
  div.className="msg "+type;
  div.innerText=text;
  document.getElementById("chat").appendChild(div);
  div.scrollIntoView();
}
</script>
</body>
</html>